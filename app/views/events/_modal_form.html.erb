<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <h4 class="modal-title" id="myModalLabel">Add an event</h4>
    </div>
    <%# child_events = [] %>
    <%# BranchEvent.where(parent_event: event.id).select do |branch| %>
      <%# child_events << Event.find(branch.event_id) %>
    <%# end %>
    <div class="modal-body">
      <%= simple_form_for [trip, event] do |f| %>
        <%= f.input :name, input_html: { id: event.id ? "edit_event_name" : "event_name" } %>
        <%= f.input :category, input_html: { id: event.id ? "edit_event_category" : "event_category" } %>
        <%= f.input :confirmed, input_html: { id: event.id ? "edit_event_confirmed" : "event_confirmed" } %>
        <%= f.input :location, input_html: { id: event.id ? "edit_event_location" : "event_location" } %>
        <%= f.input :date %>
        <%= f.input :duration, input_html: { id: event.id ? "edit_event_duration" : "event_duration" } %>
        <%= f.input :description, input_html: { id: event.id ? "edit_event_description" : "event_description" } %>
        <%= f.input :url, input_html: { id: event.id ? "edit_event_url" : "event_url" } %>
        <%#= f.input :parent_ids, :collection => events_parents, input_html: { id: event.id ? "edit_event_parent_ids" : "event_parent_ids" } %>
        <%#= f.input :child_ids, :collection => events_children, input_html: { id: event.id ? "edit_event_child_ids" : "event_child_ids" } %>
        <%= f.input :child_ids, as: :hidden, input_html: { id: event.id ? "edit_event_child_id" : "event_child_id" } %>
        <%= f.input :parent_ids, as: :hidden, input_html: { id: event.id ? "edit_event_child_id" : "event_parent_id" } %>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <%= f.submit "Add event", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
